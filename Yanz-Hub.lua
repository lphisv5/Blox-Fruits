local HttpService = game:GetService("HttpService")
local savePath = "YanzHub/keydata.json"
local validKeys = {
   "YANZ-KEY-OQQ4NM968Y6BRGH02T1PM3ENJWU0FVRGGIQWGUMPM1A79WHNAK",
   "YANZ-KEY-P0R2A31BU2YW0TG99YL4Y1OPIJQ5JLUQ8PPRO5CRINBCO4V7IR",
   "YANZ-KEY-M3XC5VSIDVMSS30NU8MXXPDF8DWZS23OPLMI23PBWH0QGS7G33",
   "YANZ-KEY-XSVFYTA73GL63W4U8KAJAEYAETOTT0MC5TYPWROEHBK4FST9O6",
   "YANZ-KEY-NSD2GY9XLFUSC11VAZFDJ7TS6ZTHUQZ2T3JICUUV06HB17KOY3",
   "YANZ-KEY-XDNJ9V8IK3S8503QZ1ZLDP8M0T33WPITKFXF3W0ZW854HNIEMM",
   "YANZ-KEY-JEXBP0HUH7Y7ZFYVVS6VTWJK0T5F06KASHE807QSXP2VRC43BN",
   "YANZ-KEY-4NBWX39IT428MOFBW6E75A7D7LL7W6J4HT64H83CVZG9YO741C",
   "YANZ-KEY-96OR435R7VA5K2BL74TPJDQ9BT92SI9VXE4MFFZJRYZBIA2RIV",
   "YANZ-KEY-88EM98HXBOX0YW41ANG17BNFV87NXGNN4ZX42S8RXTCIGYEX5J",
   "YANZ-KEY-PYOQAT2GA1WXBGYXTAO97OFNTU7RBY9J2R0IEZFQ9FZBCIKSZT",
   "YANZ-KEY-WG2EZB75UYWZ4UOTC8W34J9LXHGYI38QKE70NTDWV7RZVYHKJD",
   "YANZ-KEY-ZOEXC0V5EPRONV4LOU2XV5L8019JD2V8LIZ7U2A57XTYHPAIYR",
   "YANZ-KEY-SZBYOTFFWYECWOHDE88D94ZGW805Q01RUT1EI2DVPYD0U98BXV",
   "YANZ-KEY-D0SAQ357FTENY8MSO7AWIWD42LH2PMJH94PLYRN3SIBYUOFUYM",
   "YANZ-KEY-GLZO9H7FKX23IGH9YQJ0K2AUAOS137FDYJGD4RLIH34RE64RES",
   "YANZ-KEY-12TG7O9GHR5O6RRDBFJBYQABXM20F1KD8WQM4N7BA5KS5HOO01",
   "YANZ-KEY-DBOGGZ7QGA4GOKOBN4N0NEF7CBL4REL9JLDD8AZSXSH41PV0EU",
   "YANZ-KEY-11KSZJ1J1WMBDJU6HIWZKXDVOZQBPO0DJ8AH0RX4BU1JVDVS77",
   "YANZ-KEY-R3SEC6WWC3JSECZU04LEPA417O389WH50CYQU8NBTUELVQXUXW",
   "YANZ-KEY-EQZ3D23Y41XPE7M53SPENFLQBS13SBFUV1LUUIQHLKDDB98R0M",
   "YANZ-KEY-EKSYEUA9QT5DM2RAA7KG65DUT5PXUXW3D9N2WKO1SQ7IO2OO9X",
   "YANZ-KEY-CQQTU5IXN77JG9SC2B8YSO8RPJ9ZGN331T2DCJGLE7U2WECRT2",
   "YANZ-KEY-2ZZSKQ5F59OPNH2OBCK896R14B69SMJSH6BRC4FRILW9UJ2IAS",
   "YANZ-KEY-9SIH6UF8F3FENHE5UUDJ55ZFLXP9DBHTP898PUT3JVB3WT4NR4",
   "YANZ-KEY-XI3988SOHR33VVER07HIYUWEIMLXAV9QELU0E1GH0TC9HBJJTG",
   "YANZ-KEY-EFYS5F3IVYFCJQJJ70WCLUI4W54NROWMGR1R8K70ZXT2HV7HX4",
   "YANZ-KEY-K15UCLEK4INYQ49LYUKYTT0M6YO12TCBJ6PLQ7TJYDMLV8MHGJ",
   "YANZ-KEY-4M9XT5XW50SLQ289JYOE384NTUJ0TXL9HSTKMDFANYKHYZFHEN",
   "YANZ-KEY-F3JNQPRXR9REZGOVFCR3C80HIHBIGJ9X4HXJ54W8JG0ZPOQS2X",
   "YANZ-KEY-7UCYHVQIUA1VZOWYMD9PEPR6JTLX3KHPNFW19EMO1OIYVUKBP6",
   "YANZ-KEY-TZEPAY3MBIJO8APS1GUU611225OHQLIX06I7JZGZF625NZRVZB",
   "YANZ-KEY-RF17GD4UJY0OQRGG7NQ9M4NJHH61CLF1QE8U0U7S277QD0LCS2",
   "YANZ-KEY-XUQI5ZVWTT95Q1S5JEFXQ1OR3KEPISDOEG5WMQSVAPSJ9G7AJ1",
   "YANZ-KEY-YFZIU7SAK6P4GENJ1C4004U4EJZ7D66TC5JM66L59KMBLZPOG7",
   "YANZ-KEY-GO2BOB1GSPZ2MFBD36YCDMR9KRJ9VYY2LQAQWD0ZI80X3GC66J",
   "YANZ-KEY-B4S15SD7HL87NC154FW7PUPLJ0Y29WGOLRMAPNMWYKEBRC252V",
   "YANZ-KEY-SK4S9Z70YG2219SRAWT4QXJOCBB1D78C28U8707HS7PGUQX8PV",
   "YANZ-KEY-0LMBBK9PJI8SEXRJEPTHJDHMXUHPKLPDDI1Y2IQ9RAGMH7AYHD",
   "YANZ-KEY-8NVT615X71Z1SA40UOPK3LBCRQ7LFY5LHW1JWCXQ5HLKA4YMW8",
   "YANZ-KEY-SIU2XOOIU5M12BIR2AI6LKHUT6IHYL9OKU87TOITKMNPRE2PO5",
   "YANZ-KEY-PO3YWXCOAFXUTUVV230926UJVZ13K6JIC4S983RVM1582TDHCN",
   "YANZ-KEY-XI6GMOMUU6TGO24XYPN8K3IP9EZ7RD065QQPWAAH3EVVHM5YUY",
   "YANZ-KEY-E1CPY49RP9ZU1X19IAQ0RU92FUY7HD2P4CTKNIINZZQ5WR25WG",
   "YANZ-KEY-P7Z3COG2U41AS0XSSI75GAWCCA6NZWXHCVJGVWZ7JVE6V2UFH6",
   "YANZ-KEY-S2LS5CXGG8H3X5MRUONSHJSOUQQZ6THQHEWE8M2E7NQJUWQUFJ",
   "YANZ-KEY-AF192XOPMYJXZ3D8A4TF6IKQ2GBOBUGEGBEL1QVF9J6D9NLTE9",
   "YANZ-KEY-8T2Q29XTGOTFQ4PS0DJUJ2FYABLZMMXYQRVQGVU3JUYDPDPZVR",
   "YANZ-KEY-N48DNMBEZ33XCVWGUFZPAMHUF137QVU4NJQ07FCU8AIMX71HSP",
   "YANZ-KEY-6OHO46VHIRAOKGGBS286K3ED53IQ0NQXOZXKL082DGO4BJ8SAQ",
   "YANZ-KEY-QZ7HTFZ8ZC400EOZSY323EF5UU67VU350U37YKZWB1DLQ509TI",
   "YANZ-KEY-K80EVZ3FRSXX7K5KG528GDQP0QY9I4V8D091VIXT3UAC79EAK7",
   "YANZ-KEY-F86H4SHUVYRY2CW1IBN0WDREDFRY2Z1S4HR2M9YKD7AQZ8LFA6",
   "YANZ-KEY-3PMLMM7ITRRG8H9WAOC4O7L4X5DASNP10GZT6F5O9319IOAK81",
   "YANZ-KEY-SF3VJIEJIK347FX4S9ZU6G74PNAM80IM7MMVDGE7S62YV61P1D",
   "YANZ-KEY-UI1FIQ3B9L1YMCTDSCZDDSJUKHZMNNJZDAA11JHU56OZGXSMR6",
   "YANZ-KEY-Z4KYGSBAJFAOGI4H7XB24L8BHGU827RXV1Z1OBFG0JKN46HNCL",
   "YANZ-KEY-WRE3DKQO24383XZ1SPGZVJQGIJXW8KOFPMJOKAMVXW0ZG1Q6SB",
   "YANZ-KEY-9YU7BJGK2PK4RQUXCRON4BQNYNBYHYA0MW8SXL55FDUM5JMBXG",
   "YANZ-KEY-XF9U04AFBH31TQCNIDF0F1WWGHIOVX6DDEL601NJA7NB0ZFKL4",
   "YANZ-KEY-0V9DVQO26BBMGLZ2IHRXZ5MHU6RBTR8CWI3AKCHZDLXKXAU6YW",
   "YANZ-KEY-1SK3TAAVO0NAS6MO6CDU487MAMFGZDJ2QIL3GH5MKEN5N1QSCY",
   "YANZ-KEY-NPAQ749UATICX0QYLTDOBUUUC3GZD5B4CBC31B6K2YUBH7R5J1",
   "YANZ-KEY-JV4E7TBYB87W05H6SFKQZKE21SVHKQBBXOP1F48G8XSSPVUC8U",
   "YANZ-KEY-STN25L7BAANM139W12O3TOZV2CGKWJ77BHI5GHTWCWIM2LTQPD",
   "YANZ-KEY-CGV3HVW72PGBE8WN9DVVPA3JDOGGYEE78UEN7TID49ETUAOT2H",
   "YANZ-KEY-N3WEN3DFDAP6CG7QTY9QY759X6M9VE1FM2DTBF7FKZRT2UKXBX",
   "YANZ-KEY-3XM5D7FBZ941DPJESZICFR9T651QOYYVU30Z1FPRAQYOAQS1ZD",
   "YANZ-KEY-2R4TX6BPLTOTR0PD833P3ZFQO5BUFAHE5T9RINGF1VI1H8SS6P",
   "YANZ-KEY-PBDUI88YK7XB412EA51XAJELKWDHB5Y48KDKC85SPP0MMELFX3",
   "YANZ-KEY-GYQSGXQW5TXSUMGTVU1FN3U3YFSR8RIJBVQ975YDVC2NOSDV5V",
   "YANZ-KEY-V51218C5LT3UUCKIP8TKZO67RIJTDEDIX9ZUXHWEIGJ5HIN61G"
}



local function saveKey(key)
   local data = {
      key = key,
      timestamp = os.time()
   }
   local json = HttpService:JSONEncode(data)
   writefile(savePath, json)
end

local function checkSavedKey()
   if isfile(savePath) then
      local json = readfile(savePath)
      local success, data = pcall(function()
         return HttpService:JSONDecode(json)
      end)
      if success and data.key and table.find(validKeys, data.key) and (os.time() - data.timestamp) < 86400 then
         return true, data.key
      end
   end
   return false
end

local function loadGameScript()
   local GameScripts = {
      [12331842898] = "https://github.com/lphisv5/rbxScript/raw/refs/heads/main/+1BlocksEverySecond.lua",
      [121864768012064] = "https://github.com/lphisv5/rbxScript/raw/refs/heads/main/Fickit.lua",
      [9285238704] = "https://github.com/lphisv5/rbxScript/raw/refs/heads/main/Race-Clicker.lua",
      [127742093697776] = "https://github.com/lphisv5/rbxScript/raw/refs/heads/main/PlantsVsBrainrots.lua",
      [6516141723] = "https://github.com/lphisv5/rbxScript/raw/refs/heads/main/Doors.lua",
      [3956818381] = "https://github.com/lphisv5/rbxScript/raw/refs/heads/main/Ninja-Legends.lua",
      [537413528] = "https://github.com/lphisv5/rbxScript/raw/refs/heads/main/BuildABoat.lua"
   }
   local url = GameScripts[game.PlaceId]
   if not url then
      error("Game not supported")
   end
   loadstring(game:HttpGet(url))()
   return true
end

local valid, savedKey = checkSavedKey()
if valid then
   local success, err = pcall(loadGameScript)
   if not success then
      warn("Load Error: " .. tostring(err))
   end
   return
end

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Yanz Hub Key System",
   LoadingTitle = "Loading Yanz Hub",
   LoadingSubtitle = "by Yanz",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "YanzHub",
      FileName = "KeyConfig"
   },
   Discord = {
      Enabled = false,
   },
   KeySystem = false
})

local Tab = Window:CreateTab("Key", 4483362458)

local enteredKey = ""

local Input = Tab:CreateInput({
   Name = "Enter Key",
   PlaceholderText = "YANZ-KEY-...",
   RemoveTextAfterFocusLost = false,
   Callback = function(Text)
      enteredKey = Text
   end,
})

local CheckButton = Tab:CreateButton({
   Name = "Check Key",
   Callback = function()
      if enteredKey == "" then
         Rayfield:Notify({
            Title = "Error",
            Content = "Please enter a key first.",
            Duration = 3,
            Image = 4483362458,
         })
         return
      end
      
      if table.find(validKeys, enteredKey) then
         local success, err = pcall(loadGameScript)
         
         if success then
            saveKey(enteredKey)
            Rayfield:Destroy()
         else
            Rayfield:Notify({
               Title = "Load Error",
               Content = "Failed to load the script: " .. tostring(err),
               Duration = 5,
               Image = 4483362458,
            })
         end
      else
         Rayfield:Notify({
            Title = "Invalid Key",
            Content = "The entered key is invalid.",
            Duration = 3,
            Image = 4483362458,
         })
      end
   end,
})

local GetButton = Tab:CreateButton({
   Name = "Get Key",
   Callback = function()
      setclipboard("https://lphisv5.github.io/v4/checking.html")
      Rayfield:Notify({
         Title = "Copied to Clipboard",
         Content = "Key page URL has been copied to your clipboard!",
         Duration = 3,
         Image = 4483362458,
      })
   end,
})
